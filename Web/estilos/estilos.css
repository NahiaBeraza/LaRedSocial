/* estilos.css */

/* ===================== RESET + VARIABLES ===================== */
:root{
  --p:#6c63ff; --pd:#584ff5;
  --bg:#b9b7f0; --soft:#f5f6fb;
  --txt:#111827; --mut:rgba(17,24,39,.65);
  --b:rgba(15,23,42,.10);
  --sh:0 18px 40px rgba(0,0,0,.12);
  --sh2:0 10px 25px rgba(0,0,0,.10);
  --r:14px; --rl:18px; --rx:24px;
}
*{margin:0;padding:0;box-sizing:border-box;font-family:system-ui,-apple-system,BlinkMacSystemFont,sans-serif}
a{color:inherit;text-decoration:none}

/* ===================== BODY FULL SCREEN ===================== */
body{
  height: 100vh; /* Altura fija al 100% de la ventana */
  margin: 0;     /* Sin márgenes */
  padding: 0;    /* Sin padding */
  color:var(--txt);
  
  /* Mantenemos tu fondo morado original (se verá si hay transparencias) */
  background:
    radial-gradient(1200px 600px at 20% 10%, rgba(108,99,255,.28), transparent 55%),
    radial-gradient(900px 520px at 85% 15%, rgba(108,99,255,.18), transparent 55%),
    var(--bg);
}

/* ===================== COMPONENTES ===================== */
.text-muted{font-size:13px;color:rgba(17,24,39,.60)}
.input, #search-input, .chat__input{
  width:100%;
  padding:12px 14px;
  border-radius:var(--r);
  border:1px solid rgba(15,23,42,.10);
  background:var(--soft);
  font-size:14px;
  outline:none;
}
.input:focus, #search-input:focus, .chat__input:focus{
  border-color:rgba(108,99,255,.55);
  box-shadow:0 0 0 4px rgba(108,99,255,.14);
  background:#fff;
}
.btn-primary, #create-btn, .chat__btn, .btn-chat{
  border:0; cursor:pointer; color:#fff; font-weight:900;
  background:var(--p);
  border-radius:var(--r);
}
.btn-primary, .chat__btn{padding:12px 14px;font-size:14px}
#create-btn{padding:10px 16px;border-radius:12px}
.btn-chat{padding:8px 12px;font-size:13px;display:inline-flex;align-items:center;gap:6px}
.btn-primary:hover, #create-btn:hover, .chat__btn:hover, .btn-chat:hover{background:var(--pd)}
.btn-link{font-size:14px;color:var(--p)}
.btn-link:hover{text-decoration:underline}

/* ===================== LOGIN (Se mantiene centrado si se usa aparte) ===================== */
#login-container{
  width:min(900px, 100%);
  height:520px;
  display:grid;
  grid-template-columns:1fr 1fr;
  border-radius:30px;
  overflow:hidden;
  background:#fff;
  box-shadow:var(--sh);
  /* Centrado manual por si el body ya no tiene flex */
  margin: 5vh auto; 
}
#login-left{
  background:linear-gradient(135deg, var(--p), #a7a2ff);
  color:#fff;
  padding:60px;
  display:flex;
  flex-direction:column;
  justify-content:center;
}
#login-left h1{font-size:42px;margin-bottom:12px}
#login-left p{opacity:.92}
#login-right{
  padding:60px;
  display:flex;
  flex-direction:column;
  justify-content:center;
}
#login-right h2{font-size:28px;margin-bottom:26px}
#login-form{display:flex;flex-direction:column;gap:16px}

/* ===================== APP FULL WIDTH ===================== */
#app{
  width: 100%;  /* Ocupa todo el ancho */
  height: 100%; /* Ocupa todo el alto */
  background: transparent; /* Fondo transparente para ver el morado del body */
  display: flex;
  overflow: hidden;
  /* Eliminamos la apariencia de "caja flotante" */
  border-radius: 0;
  box-shadow: none;
  border: none;
}

#sidebar{
  width:260px;
  background:#f9f9fb;
  border-right:1px solid rgba(15,23,42,.08);
  padding:22px;
  display:flex;
  flex-direction:column;
  gap:10px;
}
#sidebar-logo{font-size:22px;font-weight:900;margin-bottom:14px}
.logo-text{color:var(--p)}
#sidebar-nav{flex:1}
.nav-title{
  font-size:12px;
  text-transform:uppercase;
  color:rgba(17,24,39,.45);
  margin:18px 0 10px;
  letter-spacing:.5px;
}
.nav-section{list-style:none}
.nav-item{
  display:flex;align-items:center;justify-content:space-between;
  padding:10px 12px;border-radius:12px;
  cursor:pointer;font-size:14px;margin-bottom:6px;
  color:rgba(17,24,39,.85);
}
.nav-item:hover{background:#ecebff}
.nav-item.active{background:var(--p);color:#fff}
.nav-item .btn-chat{padding:4px 10px;border-radius:999px;background:rgba(255,255,255,.22);font-size:12px}

#main-layout{flex:1;display:flex;flex-direction:column;min-width:0}

#topbar{
  height:70px;
  border-bottom:1px solid rgba(15,23,42,.08);
  padding:0 26px;
  display:flex;align-items:center;justify-content:space-between;
  /* CAMBIO: Fondo blanco sólido para que destaque sobre el fondo general */
  background: #fff;
}

#search-container{width:360px}
#topbar-actions{display:flex;align-items:center;gap:14px}
#user-avatar{width:36px;height:36px;border-radius:50%;background:#ccc}

#content{flex:1;display:grid;grid-template-columns:1fr 320px;overflow:hidden}
#feed{padding:26px;overflow-y:auto;background:#fff}

.post{
  display:flex;gap:18px;
  background:#fbfbfd;
  border-radius:18px;
  padding:18px;
  margin-bottom:16px;
  border:1px solid rgba(15,23,42,.06);
  box-shadow:0 10px 25px rgba(0,0,0,.06);
}
.post-votes{display:flex;flex-direction:column;align-items:center;gap:6px;padding-top:6px}
.vote{background:none;border:0;cursor:pointer;font-size:14px;opacity:.8}
.vote:hover{opacity:1}
.vote-count{font-weight:900}
.post-body{flex:1;min-width:0}
.post-title{font-size:18px;font-weight:900;margin-bottom:8px}
.post-meta{font-size:12px;color:rgba(17,24,39,.55);margin-bottom:10px}
.post-text{font-size:14px;margin-bottom:14px;color:rgba(17,24,39,.85)}
.post-actions{display:flex;gap:10px;flex-wrap:wrap}
.post-action{
  background:#f0f0f5;
  border:1px solid rgba(15,23,42,.06);
  padding:6px 12px;border-radius:12px;
  font-size:13px;cursor:pointer;
}
.post-action:hover{background:#ecebff;border-color:rgba(108,99,255,.22)}

#right-panel{
  background:#f9f9fb;
  border-left:1px solid rgba(15,23,42,.08);
  padding:22px;
  overflow-y:auto;
}
.panel-section{margin-bottom:26px}
.panel-title{font-size:16px;font-weight:900;margin-bottom:12px}
.panel-item{
  padding:10px 12px;border-radius:14px;background:#fff;margin-bottom:10px;
  cursor:pointer;border:1px solid rgba(15,23,42,.06);
  box-shadow:0 8px 18px rgba(0,0,0,.05);
}
.panel-item:hover{background:#ecebff;border-color:rgba(108,99,255,.22)}
.panel-item-title{font-size:14px;font-weight:900}
.panel-item-meta{font-size:12px;color:rgba(17,24,39,.55)}

/* ===================== ERRORES ===================== */
.input-error{border:2px solid #e74c3c}
.error-msg{color:#e74c3c;margin-bottom:14px;font-size:14px}

/* ===================== CREATE POST ===================== */
.create-post-card{
  width:min(520px, 100%);
  background:#fff;
  border-radius:22px;
  padding:34px 32px;
  box-shadow:var(--sh);
  border:1px solid rgba(15,23,42,.06);
}
.create-post-title{font-size:24px;font-weight:900;margin-bottom:22px;text-align:center}
.create-post-form{display:flex;flex-direction:column;gap:16px}
.create-post-form label{font-size:13px;font-weight:900;color:rgba(17,24,39,.75)}
.textarea{min-height:120px;resize:vertical}
.create-post-actions{display:flex;align-items:center;gap:12px;margin-top:8px}

/* ===================== CHAT ===================== */
.chat{width:min(1320px, 95vw);padding:12px}
.chat__layout{display:flex;gap:16px;align-items:stretch}
.chat__side, .chat__main{
  height:78vh; min-height:560px; max-height:820px;
  background:#fff;
  border:1px solid var(--b);
  border-radius:var(--rl);
  box-shadow:var(--sh2);
  overflow:hidden;
  display:flex;
  flex-direction:column;
}
.chat__side{width:320px;flex:0 0 320px}
.chat__main{
    flex: 1; 
    min-width: 0;
}

.chat__sideTop{
  padding:12px;display:flex;gap:8px;
  border-bottom:1px solid rgba(15,23,42,.08);
  background:linear-gradient(90deg, rgba(108,99,255,.12), transparent 60%);
}
.chat__sideBtn{
  flex:1;text-align:center;
  padding:10px 12px;border-radius:14px;
  background:var(--p);color:#fff;font-weight:900;
}
.chat__sideBtn:hover{background:var(--pd)}
.chat__panel{padding:12px;overflow-y:auto;min-height:0}
.chat__panel h3{
  font-size:13px;text-transform:uppercase;letter-spacing:.2px;
  color:rgba(17,24,39,.70);margin:10px 0;
}
.chat__item{
  display:flex;align-items:center;gap:10px;
  padding:10px;border-radius:16px;border:1px solid transparent;
}
.chat__item:hover{background:rgba(108,99,255,.08);border-color:rgba(108,99,255,.18)}
.chat__item--activo{background:rgba(108,99,255,.14);border-color:rgba(108,99,255,.28);position:relative}
.chat__item--activo::before{
  content:"";position:absolute;left:-1px;top:10px;bottom:10px;width:6px;
  border-radius:8px;background:var(--p);
}
.chat__avatar{
  width:40px;height:40px;border-radius:999px;object-fit:cover;
  background:rgba(108,99,255,.18);border:1px solid rgba(108,99,255,.25);
  flex:0 0 auto;
}
.chat__itemName{font-weight:900;font-size:14px;line-height:1.1}
.chat__itemSub{font-size:12px;color:var(--mut);margin-top:2px}

.chat__topbar{
  padding:12px 14px;border-bottom:1px solid rgba(15,23,42,.08);
  background:linear-gradient(90deg, rgba(108,99,255,.14), transparent 70%);
  display: flex;
  justify-content: space-between;
  align-items: center;
}

.chat__topbar .chat__sideBtn {
    flex: 0 0 auto;
    width: auto;
    padding: 8px 16px;
    font-size: 13px;
    margin-left: 10px;
}

.chat__topLeft{display:flex;align-items:center;gap:10px}
.chat__avatar--top{width:44px;height:44px}
.chat__titulo{font-size:18px;font-weight:950}
.chat__subtitle{font-size:12px;color:var(--mut);margin-top:2px}

#cajaMensajes{
  flex:1;min-height:0;overflow-y:auto;padding:14px;
  background:radial-gradient(900px 420px at 20% 20%, rgba(108,99,255,.12), transparent 60%), #f8fafc;
}
.chat__fila{margin:10px 0;display:flex}
.chat__fila--mio{justify-content:flex-end}
.chat__burbuja{
  max-width:74%;
  padding:10px 12px;border-radius:16px;
  border:1px solid rgba(15,23,42,.10);
  background:#fff;box-shadow:0 8px 18px rgba(0,0,0,.05);
}
.chat__fila--mio .chat__burbuja{background:rgba(108,99,255,.16);border-color:rgba(108,99,255,.24)}
.chat__nombre{font-weight:900;font-size:13px;margin-bottom:4px}
.chat__fecha,.chat__estado{font-size:12px;color:var(--mut);margin-top:6px}
.chat__estado{text-align:right;margin-top:3px}
.chat__vacio{text-align:center;color:var(--mut);margin:12px 0}
.chat__form{
  display:flex;gap:8px;padding:12px;
  border-top:1px solid rgba(15,23,42,.08);background:#fff;
}
.chat__badge{
  margin-left:auto;min-width:20px;height:20px;padding:0 6px;border-radius:999px;
  background:var(--p);color:#fff;font-size:12px;font-weight:950;
  display:inline-flex;align-items:center;justify-content:center;
}

/* ===================== RESPONSIVE ===================== */
@media (max-width:980px){
  /* body{align-items:flex-start} <-- Quitamos esto porque body ya no es flex */
  #app{height:auto;min-height:100vh} /* Full screen en móvil también */
  #content{grid-template-columns:1fr}
  #right-panel{display:none}
  .chat__layout{flex-direction:column}
  .chat__side{width:auto;flex:0 0 auto;height:auto;max-height:none}
  .chat__main{height:72vh;max-height:none}
}

/* ===== Desplegable reacciones ===== */
.reac{ position: relative; }
.reac-menu{
  position: absolute;
  left: 0;
  top: 42px;
  display: none;
  gap: 6px;
  padding: 8px;
  background: #fff;
  border: 1px solid rgba(15,23,42,.12);
  border-radius: 14px;
  box-shadow: 0 18px 40px rgba(0,0,0,.12);
  z-index: 50;
}
.reac-menu.open{ display: flex; }
.reac-opt{
  border: none;
  background: #f5f6fb;
  border-radius: 12px;
  padding: 8px 10px;
  cursor: pointer;
  font-size: 16px;
  line-height: 1;
}
.reac-opt:hover{ background: #ecebff; }

/* ===== MODAL Seguidores/Seguidos ===== */
.perfil-link{
  color:inherit;
  text-decoration:none;
  font-weight:700;
}
.perfil-link:hover{ text-decoration:underline; }

.modal-backdrop{
  position:fixed;
  inset:0;
  background: rgba(0,0,0,.55);
  display:flex;
  align-items:center;
  justify-content:center;
  z-index:99999;
  padding:18px;
}
.modal-card{
  width:min(520px, 92vw);
  max-height: 80vh;
  background:#fff;
  border-radius:18px;
  overflow:hidden;
  box-shadow: 0 30px 80px rgba(0,0,0,.35);
  display:flex;
  flex-direction:column;
}
.modal-head{
  padding:14px 16px;
  border-bottom:1px solid rgba(15,23,42,.10);
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap:10px;
}
.modal-title{
  font-weight:900;
  font-size:16px;
  color:#111827;
}
.modal-close{
  width:34px;height:34px;
  display:grid;place-items:center;
  border-radius:10px;
  text-decoration:none;
  color:#111827;
  background: rgba(15,23,42,.05);
}
.modal-close:hover{ background: rgba(15,23,42,.08); }
.modal-body{ padding:10px; overflow:auto; }
.modal-empty{ padding:18px; color: rgba(15,23,42,.70); text-align:center; }
.modal-row{
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap:12px;
  padding:10px;
  border-radius:14px;
}
.modal-row:hover{ background: rgba(108,99,255,.06); }
.modal-user{
  display:flex;
  align-items:center;
  gap:12px;
  min-width:0;
  text-decoration:none;
  color:inherit;
  flex:1;
}
.modal-avatar{
  width:42px;height:42px;border-radius:50%;
  background:#ddd;
  background-size:cover;
  background-position:center;
  flex:0 0 auto;
}
.modal-name{
  font-weight:900;
  color:#111827;
  white-space:nowrap;
  overflow:hidden;
  text-overflow:ellipsis;
}
.modal-actions{ display:flex; gap:8px; align-items:center; }
.modal-btn{
  border:none;
  cursor:pointer;
  font-weight:900;
  font-size:12px;
  padding:9px 12px;
  border-radius:999px;
}
.modal-btn-primary{
  background: linear-gradient(180deg, #6c63ff, #584ff5);
  color:#fff;
}
.modal-btn-danger{
  background: rgba(239,68,68,.12);
  color:#ef4444;
  border:1px solid rgba(239,68,68,.20);
}
.modal-btn-danger:hover{ background: rgba(239,68,68,.18); }
.modal-btn-muted{
  background: rgba(15,23,42,.06);
  color: rgba(15,23,42,.55);
  cursor:not-allowed;
}

/* clip adjunto */
.chat__clip{
  width:42px; height:42px;
  border-radius:14px;
  display:grid;
  place-items:center;
  border:1px solid rgba(15,23,42,.12);
  background:#fff;
  cursor:pointer;
  user-select:none;
}
.chat__clip:hover{
  background: rgba(108,99,255,.08);
  border-color: rgba(108,99,255,.25);
}